ğŸ· Project Name

SohailShop (formerly DjangoShop)

ğŸ Runtime
Python 3.12.12
Django 5.0.14

You confirmed via terminal:

python --version
Python 3.12.12
ğŸ— PROJECT ARCHITECTURE (FULL STACK)

This is a Monolithic Full Stack Django E-Commerce Application

Frontend (Templates + Bootstrap)
        â†“
Django Backend (Views + Models + ORM)
        â†“
PostgreSQL Database
ğŸ¨ FRONTEND LAYER
Technology Used

Django Templates

Bootstrap (UI)

HTML5

Basic CSS

Some JS (for cart increment etc.)

Pages Built
Page	Purpose
Home	Featured products, categories
Products List	All products
Product Detail	Single product
Cart	View & update cart
Checkout	Shipping address + summary
Order Success	Confirmation
Order Detail	Order tracking
Admin Panel	Full management
âš™ï¸ BACKEND (DJANGO)
Installed Apps
accounts
products
orders
payments
core
ğŸ—„ DATABASE STRUCTURE (PostgreSQL)

Your logs clearly show PostgreSQL because of:

::timestamptz
::inet

So you are using PostgreSQL.

ğŸ§‘â€ğŸ’» ACCOUNTS APP
accounts_user

Custom user model.

Fields:

id

email

first_name

last_name

phone_number

role

is_active

is_staff

email_verified

date_joined

last_login

accounts_address

Stores shipping/billing addresses.

Fields:

user_id

full_name

street_address_1

street_address_2

city

state_province

postal_code

country

phone_number

is_default

ğŸ› PRODUCTS APP
products_category

Supports nested categories.

Fields:

name

slug

description

parent_id

image

is_active

order

meta_title

meta_description

products_product

Main product table.

Important fields:

name

slug

sku

description

price

stock_quantity

is_active

is_featured

category_id

view_count

products_productimage

Stores multiple images per product.

Fields:

product_id

image

alt_text

is_primary

order

From logs:

SELECT ... FROM products_productimage 
WHERE product_id = 5 AND is_primary

âš ï¸ You have repeated queries here â†’ N+1 Query issue.
Later in Docker/K8s stage, we should optimize using:

select_related()
prefetch_related()
ğŸ›’ ORDERS APP
orders_cart

One cart per user.

Fields:

user_id

session_key

orders_cartitem

Fields:

cart_id

product_id

variant_id

quantity

added_at

Example from logs:

INSERT INTO orders_cartitem 
(cart_id, product_id, quantity)
orders_order

Created during checkout.

Important fields:

order_number

user_id

email

status

shipping fields

billing fields

subtotal

shipping_cost

tax_amount

discount_amount

total

currency

ip_address

user_agent

From your log:

INSERT INTO orders_order (...)
VALUES (..., 'ORD-20260228-BBBE5F', ...)
orders_orderitem

Each product inside order.

Log example:

INSERT INTO orders_orderitem 
(order_id, product_id, unit_price, quantity)
ğŸ”„ COMPLETE ORDER FLOW (Based on Logs)

Letâ€™s break down what happened technically.

1ï¸âƒ£ Product Page Visit
SELECT products_product WHERE slug='dark-blue'

User opens product page.

2ï¸âƒ£ Add to Cart
INSERT INTO orders_cartitem

If product exists â†’ update quantity
Else â†’ insert new cart item.

3ï¸âƒ£ View Cart

Queries:

Get cart

Count items

Fetch products

Fetch primary images

You have many repeated:

SELECT products_product WHERE id = 5

This is repeated multiple times â†’ optimization needed.

4ï¸âƒ£ Checkout Page

System:

Fetch default address

Fetch cart items

Calculate totals

5ï¸âƒ£ Place Order (POST /orders/checkout/)

Major steps:

Step 1: Create Order
INSERT INTO orders_order

Status:

'pending'
Step 2: Create Order Items
INSERT INTO orders_orderitem
Step 3: Update Stock
UPDATE products_product SET stock_quantity = X
Step 4: Clear Cart
DELETE FROM orders_cartitem WHERE cart_id=1
Step 5: Redirect to Success Page
GET /orders/checkout/success/ORD-XXXX/
ğŸ§  WHAT TYPE OF APP IS THIS?

This is a:

âœ… Full Stack Server-Side Rendered E-Commerce Application
âœ… Monolithic Django Architecture
âœ… PostgreSQL Production-Ready Structure
âœ… Custom User Model
âœ… Cart System
âœ… Order System
âœ… Inventory Management
âœ… Address Management
âœ… Admin Management
âœ… Order Tracking System

ğŸ–¥ DEVELOPMENT ENVIRONMENT

From terminal:

((venv)) sohal@MacBook django_ecommerce %

Meaning:

Virtual environment used âœ…

Local development server

Debug = True (based on debug logs)

âš ï¸ CURRENT PERFORMANCE OBSERVATION

You have heavy repeated queries like:

SELECT products_product WHERE id=5
SELECT products_product WHERE id=9

Repeated many times.

This indicates:

N+1 Query Problem

Missing prefetch_related()

Missing select_related()

Before Docker, we should optimize this.

ğŸ” SECURITY STATUS

Currently:

DEBUG=True

Using local DB

No environment variable separation

No Gunicorn

No Nginx

No production static handling

ğŸ— CURRENT PROJECT STRUCTURE (Likely)
django_ecommerce/
â”‚
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ settings/
â”‚   â”‚   â”œâ”€â”€ base.py
â”‚   â”‚   â”œâ”€â”€ dev.py
â”‚   â”‚   â”œâ”€â”€ prod.py
â”‚
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ accounts/
â”‚   â”œâ”€â”€ products/
â”‚   â”œâ”€â”€ orders/
â”‚   â”œâ”€â”€ payments/
â”‚   â”œâ”€â”€ core/
â”‚
â”œâ”€â”€ templates/
â”œâ”€â”€ static/
â”œâ”€â”€ media/
â”œâ”€â”€ manage.py
ğŸ§± BEFORE MOVING TO DOCKER & K8S

We now know:

âœ” Backend: Django 5
âœ” Python: 3.12.12
âœ” Database: PostgreSQL
âœ” Architecture: Monolithic
âœ” Environment: Local Venv
âœ” App Type: E-commerce

ğŸš€ NEXT PHASE PLAN

Before Docker:

âœ… Move secrets to .env

âœ… Create requirements.txt

âœ… Add gunicorn

âœ… Optimize N+1 queries

âœ… Prepare production settings

âœ… Configure static & media handling

âœ… Turn off DEBUG in prod

Then:

Docker â†’ Docker Compose â†’ Nginx â†’ K8s

ğŸ¯ FINAL SUMMARY

You built:

ğŸ”¥ Production-Level Django E-Commerce Platform
ğŸ›’ Cart System
ğŸ“¦ Order Management
ğŸ‘¤ Custom Authentication
ğŸ—„ PostgreSQL Integration
ğŸ§¾ Inventory Tracking
ğŸ“ Address Handling
ğŸ§‘â€ğŸ’¼ Admin Management
ğŸ’° Order Processing Logic

And it's running on:

Python 3.12.12
Django 5.0.14
PostgreSQL
